<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="KBfEthUSZQCRbWviYR5cAUjNkvYqSP7RTLNR02OK">
    <meta name="base_url" content="public">

    <style>
        :root {
            --primary_color: #502f8f;
            --primary_color_hover: #502f8fcc;
        }
        .invoice-calculations, .tax-summary {
            display: flex;
            flex-direction: column;
            padding-left: 20px;
            }
            
            .hr {
                margin-top: 0rem;
                margin-bottom: 0rem;

                border: 0;
                border-top: 1px solid rgba(0, 0, 0, .1);
            }
    </style>

    <!-- Title -->
    <title>HiFi Salon</title>

    <!-- Favicon -->
    <link href="public/storage/images/app/favicon.png" rel="icon" type="image/png">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com"/>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>

    <!-- Icons -->
    <link rel="stylesheet" href="assets/vendor/fonts/materialdesignicons.css"/>
    <!-- CSS -->
    <link href="public/includes/css/nucleo.css" rel="stylesheet">
    <link rel="stylesheet" href="assets/vendor/css/rtl/core.css" class="template-customizer-core-css"/>
    <link rel="stylesheet" href="assets/vendor/css/rtl/theme-default.css" class="template-customizer-theme-css"/>
    <link href="public/includes/css/all.min.css" rel="stylesheet">
    <link href="public/includes/css/sweetalert2.scss">
    <link href="public/includes/css/jquery.timepicker.css" rel="stylesheet">

    <link rel="stylesheet" href="assets/vendor/css/pages/app-invoice.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@mdi/font@5.9.55/css/materialdesignicons.min.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css"
          href="https://cdn.datatables.net/v/bs4/jszip-2.5.0/dt-1.10.21/b-1.6.2/b-flash-1.6.2/b-html5-1.6.2/b-print-1.6.2/datatables.min.css"/>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.7/css/select2.min.css" rel="stylesheet"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">

    <script src="public/includes/js/jquery-3.5.1.js"></script>
    <link href='https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.css' rel='stylesheet'/>
    <!-- Argon CSS -->
    <link href="public/includes/css/argon.css" rel="stylesheet">
    <link href="public/includes/css/mystyle.css" rel="stylesheet">

    <link href="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote-lite.min.css" rel="stylesheet">
    <script>

    </script>
</head>

<body class="">
<div class="preload">
    <img src="public/storage/images/app/loader.gif" class="loader" alt="">
</div>
<div class="for-loader">
    <form id="logout-form" action="public/logout" method="POST" style="display: none;">
        <input type="hidden" name="_token" value="5O57DdIfZRvjAFgpQy1mzNGXw26aW2G9AGIdnel7">
    </form>
    <nav class="navbar navbar-vertical fixed-left navbar-expand-md navbar-light bg-white" id="sidenav-main">
        <div id="navbar-left"></div>
    </nav>

    <div class="main-content">
        <div id="navbar-top"></div>

        <div class="header pt-7"
             style="background-image: url(public/storage/images/app/bg_img.jpg); background-size: cover; background-position: center center;">
            <span class="mask bg-gradient-dark opacity-7"></span>
            <div class="container-fluid">
                <div class="header-body">
                    <div class="row align-items-center py-4 pb-7">
                        <div class="col-lg-6 col-7">
                            <nav aria-label="breadcrumb" class="d-none d-md-inline-block">
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
        </div>
                    <!-- Content wrapper -->
                    <div class="content-wrapper">
                        <!-- Content -->
        
                        <div class="container-xxl flex-grow-1 container-p-y">
                            <div class="row invoice-add">
                                <!-- Invoice Add-->
                                <div class="col-lg-9 col-12 mb-lg-0 mb-4">
                                    <div class="card invoice-preview-card">
                                        <div class="card-body">
                                            <div class="row mx-9">
                                                <div class="col-md-7 mb-md-0 mb-4 ps-0">
                                                    <div class="d-flex svg-illustration align-items-center gap-2 mb-4">
                                                        <span class="app-brand-logo demo">
                                                        <span style="color: var(--bs-primary)">
                                                        </span>
                                                        </span>
                                                        <img alt="..." class="navbar-brand-img sidebar-logo" src="public/storage/images/app/naturals_logo.png" id="customLogo">
                                                    </div>
                                                    <div id="address" style="text-align: center;"></div>
                                                </div>
                                            </div>
                                        </div>
                                        <hr class="my-0"/>
                                        <div class="card-body">
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <dl class="row mb-2 g-2">
                                                        <dt class="col-sm-4 mb-2 d-md-flex align-items-center justify-content-end">
                                                            <span class="fw-normal">Cust Name:</span>
                                                        </dt>
                                                        <dd class="col-sm-8">
                                                            <div class="input-group input-group-merge">
                                                                <input type="text" class="form-control" placeholder="Name" id="custName"/>
                                                            </div>
                                                        </dd>
                                                    </dl>
                                                    <dl class="row mb-2 g-2">
                                                        <dt class="col-sm-4 mb-2 d-md-flex align-items-center justify-content-end">
                                                            <span class="fw-normal">Address:</span>
                                                        </dt>
                                                        <dd class="col-sm-8">
                                                            <textarea class="form-control" rows="4" placeholder="Address" id="custAddress"></textarea>
                                                        </dd>
                                                    </dl>
                                                    
                                                </div>
                                                <div class="col-md-6">
                                                    <dl class="row mb-2 g-2">
                                                        <dt class="required col-sm-4 mb-2 d-md-flex align-items-center justify-content-end">
                                                            <span class="fw-normal">Contact:</span>
                                                        </dt>
                                                        <dd class="col-sm-8">
                                                            <div class="input-group input-group-merge">
                                                                <input type="text" class="form-control" placeholder="Contact" id="contact"/>
                                                            </div>
                                                        </dd>
                                                    </dl>
                                                    <dl class="row mb-2 g-2">
                                                        <dt class="col-sm-4 mb-2 d-md-flex align-items-center justify-content-end">
                                                            <span class="fw-normal">Email Id:</span>
                                                        </dt>
                                                        <dd class="col-sm-8">
                                                            <input type="text" class="form-control" placeholder="Email" id="custEmailId"/>
                                                        </dd>
                                                    </dl>
                                                </div>
                                            </div>
                                        </div>
                                            
                                        <hr class="my-0"/>
                                        <div class="card-body">
                                            <form class="source-item pt-1">
                                                <div class="mb-3" data-repeater-list="group-a">
                                                    <div class="repeater-wrapper pt-0 pt-md-4" data-repeater-item>
                                                        <div class="d-flex border rounded position-relative pe-0">
                                                            <div class="row w-100 p-3">
                                                                <div class="col-md-5 col-12 mb-md-0 mb-3">
                                                                    <p class="mb-2 repeater-title">Services</p>
                                                                    <select class="form-select item-details mb-3">
                                                                        <option selected disabled>Select Service</option>
                                                                        <option value="App Design">App Design</option>
                                                                        <option value="App Customization">App Customization
                                                                        </option>
                                                                        <option value="ABC Template">ABC Template</option>
                                                                        <option value="App Development">App Development</option>
                                                                    </select>
                                                                </div>
                                                                
                                                                <div class="col-md-2 col-12 mb-md-0 mb-3">
                                                                    <p class="mb-2 repeater-title">Qty</p>
                                                                    <input
                                                                            type="number"
                                                                            class="form-control invoice-item-qty"
                                                                            placeholder="1"
                                                                            min="1"
                                                                            max="50"/>
                                                                </div>
                                                                <div class="col-md-3 col-12 mb-md-0 mb-3">
                                                                    <p class="mb-2 repeater-title">Rate</p>
                                                                    <input
                                                                            type="number"
                                                                            class="form-control invoice-item-rate mb-2"
                                                                            placeholder="00"
                                                                            min="1" max="1000000"/>
                                                                            <div class="d-flex flex-column gap-2">
                                                                                <label for="discountSelect">Discount:</label>
                                                                                <select id="discountSelect" class="form-select invoice-item-discount">
                                                                                  <option value="0%">0%</option>
                                                                                  <option value="5%">5%</option>
                                                                                  <option value="10%">10%</option>
                                                                                  <option value="15%">15%</option>
                                                                                  <!-- Add more options as needed -->
                                                                                </select>
                                                                              </div>
                                                                              
                                                                </div>
                                                                <!-- <div class="col-md-2 col-12 mb-md-0 mb-3">
                                                                    <p class="mb-2 repeater-title">Amount</p>
                                                                    <input
                                                                            type="text"
                                                                            class="form-control invoice-item-amount mb-2"
                                                                            placeholder="00"
                                                                            min="12" id="amount" readonly/>
                                                                </div> -->
                                                            </div>
                                                            <div class="d-flex flex-column align-items-center justify-content-between border-start p-2">
                                                                <i class="mdi mdi-close cursor-pointer"
                                                                   data-repeater-delete></i>
                                                                <div class="dropdown">
                                                                    <i
                                                                            class="mdi mdi-cog-outline cursor-pointer more-options-dropdown"
                                                                            role="button"
                                                                            id="dropdownMenuButton"
                                                                            data-bs-toggle="dropdown"
                                                                            data-bs-auto-close="outside"
                                                                            aria-expanded="false">
                                                                    </i>
                                                                    <div
                                                                            class="dropdown-menu dropdown-menu-end w-px-300 p-3"
                                                                            aria-labelledby="dropdownMenuButton">
                                                                        <div class="row g-3">
                                                                            <div class="col-12">
                                                                                <label for="discountInput" class="form-label">Discount(%)</label>
                                                                                <input
                                                                                        type="number"
                                                                                        class="form-control"
                                                                                        id="discountInput"
                                                                                        min="0"
                                                                                        max="100"/>
                                                                            </div>
                                                                            <div class="col-md-6">
                                                                                <label for="taxInput1" class="form-label">Tax
                                                                                    1</label>
                                                                                <select name="tax-1-input" id="taxInput1"
                                                                                        class="form-select tax-select">
                                                                                    <option value="0%" selected>0%</option>
                                                                                    <option value="1%">1%</option>
                                                                                    <option value="10%">10%</option>
                                                                                    <option value="18%">18%</option>
                                                                                    <option value="40%">40%</option>
                                                                                </select>
                                                                            </div>
                                                                            <div class="col-md-6">
                                                                                <label for="taxInput2" class="form-label">Tax
                                                                                    2</label>
                                                                                <select name="tax-2-input" id="taxInput2"
                                                                                        class="form-select tax-select">
                                                                                    <option value="0%" selected>0%</option>
                                                                                    <option value="1%">1%</option>
                                                                                    <option value="10%">10%</option>
                                                                                    <option value="18%">18%</option>
                                                                                    <option value="40%">40%</option>
                                                                                </select>
                                                                            </div>
                                                                        </div>
                                                                        <div class="dropdown-divider my-3"></div>
                                                                        <button type="button"
                                                                                class="btn btn-label-primary btn-apply-changes">
                                                                            Apply
                                                                        </button>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-12">
                                                        <button type="button" class="btn btn-primary" data-repeater-create>
                                                            <i class="mdi mdi-plus me-1"></i> Add Item
                                                        </button>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                </div> 
                                <!-- /Invoice Add-->
        
                                <!-- Invoice Actions -->
                                <div class="col-lg-3 col-12 invoice-actions">
                                    <div class="card mb-4">
                                        <div class="card-body">
                                            <button
                                                    class="btn btn-primary d-grid w-100 mb-3"
                                                    data-bs-toggle="offcanvas"
                                                    data-bs-target="#sendInvoiceOffcanvas">
                                <span class="d-flex align-items-center justify-content-center text-nowrap"
                                ><i class="mdi mdi-send-outline scaleX-n1-rtl me-2"></i>Send Invoice</span
                                >
                                            </button>
                                            <button type="button" onclick="previewInvoice()"
                                               class="btn btn-outline-secondary d-grid w-100 mb-3">Preview</button>
                                            <button type="button" class="btn btn-outline-secondary d-grid w-100">Save</button>
                                        </div>
                                    </div>
                                    <div>
                                        <div class="form-floating form-floating-outline mb-4">
                                            <select class="form-select bg-body mb-4" id="select-payment-add">
                                                <option value="Bank Account">Bank Account</option>
                                                <option value="Paypal">Paypal</option>
                                                <option value="Card">Credit/Debit Card</option>
                                                <option value="UPI Transfer">UPI Transfer</option>
                                            </select>
                                            <label for="select-payment-add" class="bg-body">Accept payments via</label>
                                        </div>
                                        <div class="d-flex justify-content-between mb-2">
                                            <label for="payment-terms" class="mb-0">Payment Terms</label>
                                            <label class="switch switch-primary me-0">
                                                <input type="checkbox" class="switch-input" id="payment-terms" checked/>
                                                <span class="switch-toggle-slider">
                                  <span class="switch-on"></span>
                                  <span class="switch-off"></span>
                                </span>
                                                <span class="switch-label"></span>
                                            </label>
                                        </div>
                                        <div class="d-flex justify-content-between mb-2">
                                            <label for="client-notes" class="mb-0">Client Notes</label>
                                            <label class="switch switch-primary me-0">
                                                <input type="checkbox" class="switch-input" id="client-notes"/>
                                                <span class="switch-toggle-slider">
                                  <span class="switch-on"></span>
                                  <span class="switch-off"></span>
                                </span>
                                                <span class="switch-label"></span>
                                            </label>
                                        </div>
                                        <div class="d-flex justify-content-between">
                                            <label for="payment-stub" class="mb-0">Payment Stub</label>
                                            <label class="switch switch-primary me-0">
                                                <input type="checkbox" class="switch-input" id="payment-stub"/>
                                                <span class="switch-toggle-slider">
                                  <span class="switch-on"></span>
                                  <span class="switch-off"></span>
                                </span>
                                                <span class="switch-label"></span>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <!-- /Invoice Actions -->
                            </div>
        
                            <!-- Offcanvas -->
                            <!-- Send Invoice Sidebar -->
                            <div class="offcanvas offcanvas-end" id="sendInvoiceOffcanvas" aria-hidden="true">
                                <div class="offcanvas-header mb-3">
                                    <h5 class="offcanvas-title">Send Invoice</h5>
                                    <button
                                            type="button"
                                            class="btn-close text-reset"
                                            data-bs-dismiss="offcanvas"
                                            aria-label="Close"></button>
                                </div>
                                <div class="offcanvas-body flex-grow-1">
                                    <form>
                                        <div class="form-floating form-floating-outline mb-4">
                                            <input
                                                    type="text"
                                                    class="form-control"
                                                    id="invoice-from"
                                                    value="shelbyComapny@email.com"
                                                    placeholder="company@email.com"/>
                                            <label for="invoice-from">From</label>
                                        </div>
                                        <div class="form-floating form-floating-outline mb-4">
                                            <input
                                                    type="text"
                                                    class="form-control"
                                                    id="invoice-to"
                                                    value="qConsolidated@email.com"
                                                    placeholder="company@email.com"/>
                                            <label for="invoice-to">To</label>
                                        </div>
                                        <div class="form-floating form-floating-outline mb-4">
                                            <input
                                                    type="text"
                                                    class="form-control"
                                                    id="invoice-subject"
                                                    value="Invoice of purchased Admin Templates"
                                                    placeholder="Invoice regarding goods"/>
                                            <label for="invoice-subject">Subject</label>
                                        </div>
                                        <div class="form-floating form-floating-outline mb-4">
                              <textarea class="form-control" name="invoice-message" id="invoice-message" style="height: 190px">
                                    Dear Queen Consolidated,
                                            Thank you for your business, always a pleasure to work with you!
                                            We have generated a new invoice in the amount of $95.59
                                            We would appreciate payment of this invoice by 05/11/2021</textarea>
                                            <label for="invoice-message">Message</label>
                                        </div>
                                        <div class="mb-4">
                              <span class="badge bg-label-primary">
                                <i class="mdi mdi-link-variant mdi-14px me-1"></i>
                                <span class="align-middle">Invoice Attached</span>
                              </span>
                                        </div>
                                        <div class="mb-3 d-flex flex-wrap">
                                            <button type="button" class="btn btn-primary me-3" data-bs-dismiss="offcanvas">
                                                Send
                                            </button>
                                            <button type="button" class="btn btn-label-secondary" data-bs-dismiss="offcanvas">
                                                Cancel
                                            </button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <!-- /Send Invoice Sidebar -->
        
                            <!-- /Offcanvas -->
                        </div>
                        <!-- / Content -->
        
                        <!-- Footer -->
                        <footer class="content-footer footer bg-footer-theme">
                            <div class="container-xxl">
                                <div
                                        class="footer-container d-flex align-items-center justify-content-between py-3 flex-md-row flex-column">
                                    <div class="mb-2 mb-md-0">
                                        ©
                                        <script>
                                            document.write(new Date().getFullYear());
                                        </script>
                                        <a href="https://asvignesh.in" target="_blank"
                                           class="footer-link fw-medium">laserpoint</a>
                                    </div>
                                </div>
                            </div>
                        </footer>
                        <!-- / Footer -->
        
                        <div class="content-backdrop fade"></div>
                    </div>
                    <!-- Content wrapper -->

    <script src="public/includes/js/popper.min.js"></script>
    <script src="public/includes/js/Chart.min.js"></script>
    <script src="public/includes/js/Chart.extension.js"></script>
    <script src="public/includes/js/jquery.min.js"></script>
    <script src="public/includes/js/bootstrap.bundle.min.js"></script>
    <script src="public/includes/js/argon.js"></script>
    <script src="public/includes/js/jquery.scrollbar.min.js"></script>
    <script src="public/includes/js/jquery-scrollLock.min.js"></script>
    <script src="public/includes/js/sweetalert.all.js"></script>
    <script src="public/includes/js/jquery.timepicker.js"></script>
    <script src="public/includes/js/common.js"></script>
    <script src="public/includes/js/jquery-repeater.js"></script>

    <!-- <script src="public/includes/js/invoice/invoice-add.js"></script> -->

    <script src="public/includes/js/map.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=" async defer></script>

    <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/promise-polyfill@8/dist/polyfill.js"></script>


    <script src="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote.min.js"></script>

    <script type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/pdfmake.min.js"></script>
    <script type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/vfs_fonts.js"></script>

    <script type="text/javascript"
            src="https://cdn.datatables.net/v/bs4/jszip-2.5.0/dt-1.10.21/b-1.6.2/b-flash-1.6.2/b-html5-1.6.2/b-print-1.6.2/datatables.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.7/js/select2.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

    <script src="public/includes/js/myjavascript.js"></script>

    <script src='https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.js'></script>

    <!-- Core JS -->
<!-- build:js assets/vendor/js/core.js -->
<script src="assets/vendor/libs/jquery/jquery.js"></script>
<script src="assets/vendor/libs/popper/popper.js"></script>
<script src="assets/vendor/js/bootstrap.js"></script>
<script src="assets/vendor/libs/perfect-scrollbar/perfect-scrollbar.js"></script>
<script src="assets/vendor/libs/node-waves/node-waves.js"></script>

<script src="assets/vendor/libs/hammer/hammer.js"></script>
<script src="assets/vendor/libs/i18n/i18n.js"></script>
<script src="assets/vendor/libs/typeahead-js/typeahead.js"></script>

<script src="assets/vendor/js/menu.js"></script>
<!-- endbuild -->

<!-- Vendors JS -->
<script src="assets/vendor/libs/flatpickr/flatpickr.js"></script>
<script src="assets/vendor/libs/cleavejs/cleave.js"></script>
<script src="assets/vendor/libs/cleavejs/cleave-phone.js"></script>
<script src="assets/vendor/libs/jquery-repeater/jquery-repeater.js"></script>

<!-- Main JS -->
<script src="assets/js/main.js"></script>

<!-- Page JS -->
<!-- <script src="assets/js/offcanvas-send-invoice.js"></script> -->
<script src="assets/js/app-invoice-add.js"></script>
    
    <script type="module">
        $(document).ready(function () {
            $("#body-content").load("dashboard.html");
            $("#navbar-left").load("inc/navbar.inc-admin.html");
            $("#navbar-top").load("inc/navbar-top-inc-admin.html", function () {
                // Set the initial content
                var selectedOption = $('#store').val();
                var storeName = $(this).find(':selected').text();
                getStoreAddress(storeName);
                $('#store').on('change', function () {
                    storeName = $(this).find(':selected').text();
                    getStoreAddress(storeName);
                });
                function getStoreAddress(storeName){
                    $.ajax({
                            url: baseUrl + 'stores/' + storeName,
                            method: 'GET',
                            headers: {
                                "Authorization": "Bearer " + bearerToken
                            },
                            success: function (response) {
                                console.log("Success");
                                $('#address').text(response.address);
                                $('#customLogo').attr('src', response.logo);
                            },
                            error: function () {
                                console.log('Failed to fetch available numbers');
                            }
                        });
                }        
            });

            $("#contact").keyup(function() {
                    var contactValue = $(this).val();
                    if (contactValue.length === 10) {
                        getClientDetails(contactValue);
                    }
                });

                function getClientDetails(contact) {
                    $.ajax({
                        url: baseUrl + 'client/' + contact,
                        method: 'GET',
                        headers: {
                        "Authorization": "Bearer " + bearerToken
                        },
                        success: function(response) {
                            $('#custName').val(response.name);
                            $('#custAddress').val(response.address);
                            $('#custEmailId').val(response.email);
                        },
                        error: function() {
                            console.log('Failed to fetch client details');
                        }
                    });
                }

        });
    </script>

    <!-- Argon JS -->
</div>
</body>

</html>