<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta content="ie=edge" http-equiv="X-UA-Compatible">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="sMftmRlC8POqBlvMrb9kMmdZG75rKy3Aj41Sq24E" name="csrf-token">
    <meta content="public" name="base_url">

    <style>
        :root {
            --primary_color: #502f8f;
            --primary_color_hover: #502f8fcc;
        }
        /* .col1 {
        width: 40%;
        }

        .col2 {
        width: 20%;
        }

        .col3 {
        width: 20%;
        } */
        .total{
            border-top: 1px solid black;
        border-bottom: 1px solid black;
            padding-left: 15%;
        }


    </style>

    <!-- Title -->
    <title>HiFi Salon</title>

    <!-- Favicon -->
    <link href="public/storage/images/app/favicon.png" rel="icon" type="image/png">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet">

    <!-- CSS -->
    <link href="public/includes/css/nucleo.css" rel="stylesheet">
    <link href="public/includes/css/all.min.css" rel="stylesheet">
    <link href="public/includes/css/sweetalert2.scss">
    <link href="public/includes/css/jquery.timepicker.css" rel="stylesheet">

    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="https://cdn.datatables.net/v/bs4/jszip-2.5.0/dt-1.10.21/b-1.6.2/b-flash-1.6.2/b-html5-1.6.2/b-print-1.6.2/datatables.min.css" rel="stylesheet"
          type="text/css"/>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.7/css/select2.min.css" rel="stylesheet"/>
    <link href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css" rel="stylesheet">

    <script crossorigin="anonymous"
            integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <link href='https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.css' rel='stylesheet'/>
    <!-- Argon CSS -->
    <link href="public/includes/css/argon.css" rel="stylesheet">
    <link href="public/includes/css/mystyle.css" rel="stylesheet">

    <link href="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote-lite.min.css" rel="stylesheet">
</head>

<body class="">
<div class="preload">
    <img alt="" class="loader" src="public/storage/images/app/loader.gif">
</div>
<div class="for-loader">
    <form action="public/logout" id="logout-form" method="POST" style="display: none;">
        <input name="_token" type="hidden" value="sMftmRlC8POqBlvMrb9kMmdZG75rKy3Aj41Sq24E">
    </form>
    <nav class="navbar navbar-vertical fixed-left navbar-expand-md navbar-light bg-white" id="sidenav-main">
        <div id="navbar-left"></div>
    </nav>

    <div class="main-content">
        <div id="navbar-top"></div>


        <div class="header pt-9"
             style="background-image: url(public/storage/images/app/bg_img.jpg); background-size: cover; background-position: center center;padding-bottom: 50px;">
            <span class="mask bg-gradient-dark opacity-7"></span>
            <div class="container-fluid">
                <div class="header-body">
                </div>
            </div>
        </div>

        <div class="container-fluid mt-4">
            <div class="row">
                <div class="col-xl-12 mb-5 mb-xl-0">
                    <div class="card shadow">
                        <div class="card-header bg-transparent">
                            <div class="row align-items-center">
                                <div class="card-header border-0">
                                    <span class="h3">Income and Expense Summary</span>
                                </div>
                            </div>
                        </div>
                        <div class="table-responsive">
                            <table class="table align-items-center table-flush" class="dataTableStoreAccounts"
                                   id="dataTableStoreAccounts">
                                <thead class="thead-light">
                                    <tr>
                                        <th class="col1" scope="colgroup" rowspan="2">Cost Center</th>
                                        <th class="col2" colspan="2" scope="colgroup" style="text-align-last: center;">May 2023</th>
                                        <th class="col3" colspan="2" scope="colgroup" style="text-align-last: center;">Jan 2023 - April 2023</th> 
                                    </tr>
                                    <tr>
                                        <th class="col1" scope="col" style="text-align-last: right;">Budget</th>
                                        <th class="col1" scope="col" style="text-align-last: right;">Actual</th>
                                        <th class="col1" scope="col" style="text-align-last: right;">Budget</th>
                                        <th class="col1" scope="col" style="text-align-last: right;">Actual</th>   
                                    </tr>
                                </thead>
                                <tbody class="list">
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="container-fluid mt-3 mb-4">
            <div class="row">
                <div class="col-xl-12">
                    <div class="card shadow">
                        <div class="card-body">
                            <div class="col">
                                <h2 class="text-default mb-0">Budget vs Actual Chart</h2>
                            </div>
                            <!-- Chart -->
                            <div class="chart">
                                <!-- Chart wrapper -->
                                <canvas id="incomeexpense_chart" class="chart-canvas"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script crossorigin="anonymous"
                integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
                src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>


        <script src="public/includes/js/Chart.min.js"></script>
        <script src="public/includes/js/Chart.extension.js"></script>
        <script src="public/includes/js/jquery.min.js"></script>
        <script src="public/includes/js/bootstrap.bundle.min.js"></script>
        <script src="public/includes/js/argon.js"></script>
        <script src="public/includes/js/jquery.scrollbar.min.js"></script>
        <script src="public/includes/js/jquery-scrollLock.min.js"></script>
        <script src="public/includes/js/sweetalert.all.js"></script>
        <script src="public/includes/js/jquery.timepicker.js"></script>


        <script src="public/includes/js/map.js"></script>
        <script async defer src="https://maps.googleapis.com/maps/api/js?key="></script>

        <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/promise-polyfill@8/dist/polyfill.js"></script>


        <script src="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote.min.js"></script>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/pdfmake.min.js"
                type="text/javascript"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/vfs_fonts.js"
                type="text/javascript"></script>

        <script src="https://cdn.datatables.net/v/bs4/jszip-2.5.0/dt-1.10.21/b-1.6.2/b-flash-1.6.2/b-html5-1.6.2/b-print-1.6.2/datatables.min.js"
                type="text/javascript"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.7/js/select2.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

        <script src="public/includes/js/myjavascript.js"></script>

        <script src='https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.js'></script>

        <script>
            $(document).ready(function () {
                $("#body-content").load("dashboard.html");
                $("#navbar-left").load("inc/navbar.inc-admin.html");
                //generateReport();
                });
            
                var _incomeexpensedata;
            $(document).ready(function () {
                $.ajax({
                    url: 'public/data/incomeexpensereport/incomeexpensesreport.json',
                    dataType: 'json',
                    success: function (incomeexpensedata) {
                        console.log(incomeexpensedata);
                        _incomeexpensedata = incomeexpensedata;
                        // Clear existing table rows
                        $('#dataTableStoreAccounts tbody').empty();
    
                        // Loop through each user object in the response data
                        $.each(incomeexpensedata, function (index, incomeexpensedata1) {
                            console.log(incomeexpensedata1);
                            // Create a new row with the user data
                            var row = '<tr>' +
                                '<th>' + incomeexpensedata1.costcenter + '</th>' +
                                '<td style="text-align-last: right;"> <span class="h5 mb-0">&#8377; </span>' + incomeexpensedata1.budget + '</td>' +
                                '<td style="text-align-last: right;"><span class="h5 mb-0">&#8377; </span>' + incomeexpensedata1.actual + '</td>' +
                                '<td style="text-align-last: right;"><span class="h5 mb-0">&#8377; </span>' + incomeexpensedata1.budget1 + '</td>' +
                                '<td style="text-align-last: right;"><span class="h5 mb-0">&#8377; </span>' + incomeexpensedata1.actual1 + '</td>' +
                               '</tr>';
    
                            // Append the row to the table body
                            $('#dataTableStoreAccounts tbody').append(row);
                        });
                    },
                    error: function (error) {
                        console.log(error);
                    }
                });
                // Set the initial content
                $("#body-content").load("dashboard.html");
                $("#navbar-left").load("inc/navbar.inc-admin.html");
                $("#navbar-top").load("inc/navbar-top-inc-admin.html");
            });
           
        </script>
        <script>
            $(document).ready(function () {
                $("#body-content").load("dashboard.html");
                $("#navbar-left").load("inc/navbar.inc-admin.html");
                $("#navbar-top").load("inc/navbar-top-inc-admin.html", function () {
                    $('#store').val(0);
                    var selectedOption = $('#store').val();
                    $('#store option:not(:selected)').prop('disabled', true);
                    $('#store').change(function() {
                        $('#store option:not(:selected)').prop('disabled', true);
                        $('#store option:selected').prop('disabled', false);
                    });
                    
                    initAndLoadIncomeExpenseChart(selectedOption);
                });
            });
    
            $(document).on("change", '#store', function () {
                var selectedOption = $(this).val();
                initAndLoadIncomeExpenseChart(selectedOption);
            });
        </script>
        <!-- Argon JS -->
    </div>
</body>

</html>