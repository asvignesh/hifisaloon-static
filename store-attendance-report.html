<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta content="ie=edge" http-equiv="X-UA-Compatible">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="sMftmRlC8POqBlvMrb9kMmdZG75rKy3Aj41Sq24E" name="csrf-token">
    <meta content="public" name="base_url">

    <style>
        :root {
            --primary_color: #502f8f;
            --primary_color_hover: #502f8fcc;
        }
        .col1 {
        width: 40%;
        }

        .col2 {
        width: 20%;
        }

        .col3 {
        width: 20%;
        }
        .user-info {
        border-top: 1px solid black;
        border-bottom: 1px solid black;
        padding-left: 2%;
        }


    </style>

    <!-- Title -->
    <title>HiFi Salon</title>

    <!-- Favicon -->
    <link href="public/storage/images/app/favicon.png" rel="icon" type="image/png">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet">

    <!-- CSS -->
    <link href="public/includes/css/nucleo.css" rel="stylesheet">
    <link href="public/includes/css/all.min.css" rel="stylesheet">
    <link href="public/includes/css/sweetalert2.scss">
    <link href="public/includes/css/jquery.timepicker.css" rel="stylesheet">

    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="https://cdn.datatables.net/v/bs4/jszip-2.5.0/dt-1.10.21/b-1.6.2/b-flash-1.6.2/b-html5-1.6.2/b-print-1.6.2/datatables.min.css" rel="stylesheet"
          type="text/css"/>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.7/css/select2.min.css" rel="stylesheet"/>
    <link href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css" rel="stylesheet">

    <script crossorigin="anonymous"
            integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <link href='https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.css' rel='stylesheet'/>
    <!-- Argon CSS -->
    <link href="public/includes/css/argon.css" rel="stylesheet">
    <link href="public/includes/css/mystyle.css" rel="stylesheet">

    <link href="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote-lite.min.css" rel="stylesheet">
</head>

<body class="">
<div class="preload">
    <img alt="" class="loader" src="public/storage/images/app/loader.gif">
</div>
<div class="for-loader">
    <form action="public/logout" id="logout-form" method="POST" style="display: none;">
        <input name="_token" type="hidden" value="sMftmRlC8POqBlvMrb9kMmdZG75rKy3Aj41Sq24E">
    </form>
    <nav class="navbar navbar-vertical fixed-left navbar-expand-md navbar-light bg-white" id="sidenav-main">
        <div id="navbar-left"></div>
    </nav>

    <div class="main-content">
        <div id="navbar-top"></div>


        <div class="header pt-9"
             style="background-image: url(public/storage/images/app/bg_img.jpg); background-size: cover; background-position: center center;padding-bottom: 50px;">
            <span class="mask bg-gradient-dark opacity-7"></span>
            <div class="container-fluid">
                <div class="header-body">
                </div>
            </div>
        </div>

         <div class="container-fluid mt--4">
            <div class="row">
                <div class="col">
                    <div class="card">
                        
                        <div class="card-header border-0">
                            <span class="h3">Employee Attendance Report</span>
                        </div>

                        <form action="public/admin/report/user" class="ml-4" id="filter_revene_form" method="post">
                            <input name="_token" type="hidden" value="sMftmRlC8POqBlvMrb9kMmdZG75rKy3Aj41Sq24E">
                            <div class="row rtl-date-filter-row">
                                <div class="form-group col-3">
                                    <input class="form-control" id="filter_date" name="filter_date" placeholder="-- Select Date --"
                                           type="text" value="">
                                    <h4 class="text-center text-red mt-2"></h4>
                                </div>
								
                                <div class="form-group col-3">
                                    <button class="btn btn-primary rtl-date-filter-btn" id="filter_btn"
                                            type="submit">Apply
                                    </button>
                                </div>
                                <div class="form-group col-6" style="padding-left: 30%;">
                                    <button class="btn btn-primary rtl-date-filter-btn" id="filter_btn"
                                            type="submit">Export to CSV
                                    </button>
                                </div>
                            </div>


                        </form>
                        <div class="table-responsive">
                            <div class="user-info">
                                <b>User:</b> Kim K
                              </div>
                              
                            <table class="table align-items-center table-flush" class="dataTableEmpAttendance"
                                   id="dataTableEmpAttendanceKim">
                                <thead class="thead-light">
                                <tr>
                                    
                                    <th class="col1" scope="col">Clock-In Date/Time</th>
                                    <th class="col2" scope="col">Clock-Out Date/Time</th>
                                    <th class="col3" scope="col" style="text-align-last: right;">Hours</th>
                                    <th class="col3" scope="col">Modified By</th>
                                    <th class="col3" scope="col">Comments</th>
                                    <th></th>
                                </tr>
                                </thead>
                                <tbody class="list">

                                </tbody>
                            </table>
                            <div class="user-info">
                                <b>User:</b> John Smith
                              </div>
                              
                            <table class="table align-items-center table-flush" class="dataTableEmpAttendance"
                                   id="dataTableEmpAttendanceJohn">
                                <thead class="thead-light">
                                <tr>
                                    
                                    <th class="col1" scope="col">Clock-In Date/Time</th>
                                    <th class="col2" scope="col">Clock-Out Date/Time</th>
                                    <th class="col3" scope="col" style="text-align-last: right;">Hours</th>
                                    <th class="col3" scope="col">Modified By</th>
                                    <th class="col3" scope="col">Comments</th>
                                    <th></th>
                                </tr>
                                </thead>
                                <tbody class="list">

                                </tbody>
                            </table>
                            <div class="user-info">
                                <b>User:</b> Alen Walker
                              </div>
                            <table class="table align-items-center table-flush" class="dataTableEmpAttendance"
                                   id="dataTableEmpAttendanceAlen">
                                <thead class="thead-light">
                                <tr>
                                    <th class="col1" scope="col">Clock-In Date/Time</th>
                                    <th class="col2" scope="col">Clock-Out Date/Time</th>
                                    <th class="col3" scope="col" style="text-align-last: right;">Hours</th>
                                    <th class="col3" scope="col">Modified By</th>
                                    <th class="col3" scope="col">Comments</th>
                                    <th></th>
                                </tr>
                                </thead>
                                <tbody class="list">

                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

        </div> 

        <script crossorigin="anonymous"
                integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
                src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>


        <script src="public/includes/js/Chart.min.js"></script>
        <script src="public/includes/js/Chart.extension.js"></script>
        <script src="public/includes/js/jquery.min.js"></script>
        <script src="public/includes/js/bootstrap.bundle.min.js"></script>
        <script src="public/includes/js/argon.js"></script>
        <script src="public/includes/js/jquery.scrollbar.min.js"></script>
        <script src="public/includes/js/jquery-scrollLock.min.js"></script>
        <script src="public/includes/js/sweetalert.all.js"></script>
        <script src="public/includes/js/jquery.timepicker.js"></script>


        <script src="public/includes/js/map.js"></script>
        <script async defer src="https://maps.googleapis.com/maps/api/js?key="></script>

        <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/promise-polyfill@8/dist/polyfill.js"></script>


        <script src="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote.min.js"></script>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/pdfmake.min.js"
                type="text/javascript"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/vfs_fonts.js"
                type="text/javascript"></script>

        <script src="https://cdn.datatables.net/v/bs4/jszip-2.5.0/dt-1.10.21/b-1.6.2/b-flash-1.6.2/b-html5-1.6.2/b-print-1.6.2/datatables.min.js"
                type="text/javascript"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.7/js/select2.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

        <script src="public/includes/js/myjavascript.js"></script>

        <script src='https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.js'></script>

        <script>
            $(document).ready(function () {
                $("#body-content").load("dashboard.html");
                $("#navbar-left").load("inc/navbar.inc-admin.html");
                generateReport();
                });

            var _empattendance;

            $(document).ready(function() {
            $.ajax({
                url: 'public/data/employee/attendancereport.json',
                dataType: 'json',
                success: function(empattendance) {
                console.log(empattendance);
                _empattendance = empattendance;

                // Loop through each employee in the response data
                $.each(empattendance, function(employeeName, employeeData) {
                    console.log(employeeName);
                    console.log(employeeData);
                    
                    // Clear existing table rows
                    $('#dataTableEmpAttendance' + employeeName + ' tbody').empty();

                    // Loop through each attendance record for the current employee
                    $.each(employeeData, function(index, attendanceRecord) {
                    console.log(attendanceRecord);

                    // Create a new row with the attendance data
                    var row = '<tr>' +
                        '<td>' + attendanceRecord.clockin + '</td>' +
                        '<td>' + attendanceRecord.clockout + '</td>' +
                        '<td style="text-align-last: right;">' + attendanceRecord.hours + '</td>' +
                        '<td>' + attendanceRecord.modified + '</td>' +
                        '<td>' + attendanceRecord.comments + '</td>' +
                        '</tr>';

                    // Append the row to the table body
                    $('#dataTableEmpAttendance' + employeeName + ' tbody').append(row);
                    });
                });
                },
                error: function(error) {
                console.log(error);
                }
            });

            // Set the initial content
            $("#body-content").load("dashboard.html");
            $("#navbar-left").load("inc/navbar.inc-admin.html");
            $("#navbar-top").load("inc/navbar-top-inc-admin.html");
            });


           
        </script>
        <!-- Argon JS -->
    </div>
</body>

</html>